"use strict";(self.webpackChunkmichi_vz=self.webpackChunkmichi_vz||[]).push([[667],{"./src/components/MichiVzProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>useChartContext,_:()=>MichiVzProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),defaultChartContext={disabledItems:[],highlightItems:[],colorsMapping:{},colorsBasedMapping:{},categoryMetadata:{},hiddenItems:[],visibleItems:[],availableItems:[]},MichiVzContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultChartContext),MichiVzProvider=function MichiVzProvider(_ref){var children=_ref.children,_ref$disabledItems=_ref.disabledItems,disabledItems=void 0===_ref$disabledItems?[]:_ref$disabledItems,_ref$highlightItems=_ref.highlightItems,highlightItems=void 0===_ref$highlightItems?[]:_ref$highlightItems,_ref$colorsMapping=_ref.colorsMapping,colorsMapping=void 0===_ref$colorsMapping?{}:_ref$colorsMapping,_ref$colorsBasedMappi=_ref.colorsBasedMapping,colorsBasedMapping=void 0===_ref$colorsBasedMappi?{}:_ref$colorsBasedMappi,_ref$categoryMetadata=_ref.categoryMetadata,categoryMetadata=void 0===_ref$categoryMetadata?{}:_ref$categoryMetadata,_ref$hiddenItems=_ref.hiddenItems,hiddenItems=void 0===_ref$hiddenItems?[]:_ref$hiddenItems,_ref$visibleItems=_ref.visibleItems,visibleItems=void 0===_ref$visibleItems?[]:_ref$visibleItems,_ref$availableItems=_ref.availableItems,contextValue={disabledItems,highlightItems,colorsMapping,colorsBasedMapping,categoryMetadata,hiddenItems,visibleItems,availableItems:void 0===_ref$availableItems?visibleItems:_ref$availableItems};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MichiVzContext.Provider,{value:contextValue},children)},useChartContext=function useChartContext(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MichiVzContext)};MichiVzProvider.__docgenInfo={description:"",methods:[],displayName:"MichiVzProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},disabledItems:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},highlightItems:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},colorsMapping:{required:!1,tsType:{name:"signature",type:"object",raw:"{ [key: string]: string }",signature:{properties:[{key:{name:"string"},value:{name:"string",required:!0}}]}},description:"",defaultValue:{value:"{}",computed:!1}},colorsBasedMapping:{required:!1,tsType:{name:"signature",type:"object",raw:"{ [key: string]: string }",signature:{properties:[{key:{name:"string"},value:{name:"string",required:!0}}]}},description:"",defaultValue:{value:"{}",computed:!1}},categoryMetadata:{required:!1,tsType:{name:"signature",type:"object",raw:"{ [key: string]: { color: string; label: string } }",signature:{properties:[{key:{name:"string"},value:{name:"signature",type:"object",raw:"{ color: string; label: string }",signature:{properties:[{key:"color",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]},required:!0}}]}},description:"",defaultValue:{value:"{}",computed:!1}},hiddenItems:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},visibleItems:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},availableItems:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"visibleItems = []",computed:!1}}}}},"./src/components/hooks/useDisplayIsNodata.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>useDisplayIsNodata});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useDisplayIsNodata(_ref){var dataSet=_ref.dataSet,isLoading=_ref.isLoading,isNodataComponent=_ref.isNodataComponent,isNodata=_ref.isNodata;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return!(isLoading||!isNodataComponent)&&("function"==typeof isNodata?isNodata(dataSet):"boolean"==typeof isNodata?isNodata:!!Array.isArray(dataSet)&&0===dataSet.length)}),[isLoading,isNodataComponent,dataSet,isNodata])}},"./src/components/shared/LoadingIndicator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _templateObject,_templateObject2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fadeInOut=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.i7)(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 0.2;\n  }\n  100% {\n    opacity: 0;\n  }\n"]))),LoadingIndicatorStyled=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  right: 5px;\n  bottom: 5px;\n  background-color: pink;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: "," 0.9s linear infinite;\n  cursor: wait;\n  pointer-events: none;\n"])),fadeInOut),LoadingIndicator=function LoadingIndicator(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingIndicatorStyled,null)};const __WEBPACK_DEFAULT_EXPORT__=LoadingIndicator;LoadingIndicator.__docgenInfo={description:"",methods:[],displayName:"LoadingIndicator"}},"./src/components/shared/Title.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),Title=function Title(_ref){var x=_ref.x,y=_ref.y,children=_ref.children;return children?react__WEBPACK_IMPORTED_MODULE_0__.createElement("text",{className:"title",x,y,textAnchor:"middle"},children):null};const __WEBPACK_DEFAULT_EXPORT__=Title;Title.__docgenInfo={description:"",methods:[],displayName:"Title",props:{x:{required:!0,tsType:{name:"number"},description:""},y:{required:!0,tsType:{name:"number"},description:""},children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | string",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"string"}]},description:""}}}},"./src/components/shared/XaxisLinear.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),d3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/d3/src/index.js"),XaxisLinear=function XaxisLinear(_ref){var _ref$xScale=_ref.xScale,xScale=void 0===_ref$xScale?d3__WEBPACK_IMPORTED_MODULE_1__.scaleLinear().domain([0,100]):_ref$xScale,height=_ref.height,margin=_ref.margin,xAxisFormat=_ref.xAxisFormat,_ref$xAxisDataType=_ref.xAxisDataType,xAxisDataType=void 0===_ref$xAxisDataType?"number":_ref$xAxisDataType,_ref$ticks=_ref.ticks,ticks=void 0===_ref$ticks?5:_ref$ticks,_ref$showGrid=_ref.showGrid,showGrid=void 0!==_ref$showGrid&&_ref$showGrid,_ref$position=_ref.position,position=void 0===_ref$position?"bottom":_ref$position,_ref$isLoading=_ref.isLoading,isLoading=void 0!==_ref$isLoading&&_ref$isLoading,_ref$isEmpty=_ref.isEmpty,isEmpty=void 0!==_ref$isEmpty&&_ref$isEmpty,tickValuesProp=_ref.tickValues,ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),isTimeScale=function checkIsTimeScale(scale,xAxisDataType){if("date_annual"===xAxisDataType||"date_monthly"===xAxisDataType)return!0;if("ticks"in scale&&"domain"in scale&&"range"in scale){var timeScale=scale;return void 0!==timeScale.ticks&&timeScale.domain instanceof Array&&timeScale.range instanceof Array&&("number"==typeof timeScale.domain[0]&&"number"==typeof timeScale.range[0]||timeScale.domain[0]instanceof Date&&timeScale.range[0]instanceof Date)}return!1}(xScale,xAxisDataType),defaultFormatter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(d){var value=d instanceof Date?d:new Date(d.valueOf());if(isTimeScale){var month=value.toLocaleString("en-US",{month:"2-digit"}),year=value.getFullYear();return"date_annual"===xAxisDataType?"".concat(year):"".concat(month,"-").concat(year)}return String(d.valueOf())}),[isTimeScale,xAxisDataType]),tickValues=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){if(tickValuesProp)return tickValuesProp;if(isLoading||isEmpty)return[];var domain=xScale.domain(),first=domain[0],last=domain[1],domainStart=+first,domainEnd=+last;if(!isTimeScale){for(var tickCount=Math.min(ticks,10),_step=(domainEnd-domainStart)/(tickCount-1),initialTicks=[],i=0;i<tickCount;i++){var value=domainStart+_step*i;initialTicks.push(value)}return domainStart<=0&&domainEnd>=0&&!initialTicks.includes(0)&&initialTicks.push(0),Array.from(new Set([domainStart].concat(initialTicks,[domainEnd]))).sort((function(a,b){return a-b}))}var availableWidth=xScale.range()[1]-xScale.range()[0],maxFittingTicks=Math.floor(availableWidth/80),effectiveTicks=Math.max(2,Math.min(maxFittingTicks,ticks));if(effectiveTicks<=2)return[first,last];for(var result=[],step=(domainEnd-domainStart)/(effectiveTicks-1),_i=0;_i<effectiveTicks;_i++){var _value=domainStart+step*_i;result.push(isTimeScale?new Date(_value):_value)}return result}),[xScale,ticks,isTimeScale,isLoading,isEmpty,tickValuesProp]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){var g=d3__WEBPACK_IMPORTED_MODULE_1__.select(ref.current);if(g){var axisBottom=d3__WEBPACK_IMPORTED_MODULE_1__.axisBottom(xScale).tickValues(tickValues).tickFormat((function(domainValue){return xAxisFormat?xAxisFormat(domainValue instanceof Date?domainValue:domainValue.valueOf()):defaultFormatter(domainValue)}));g.attr("class","x-axis x-axis-linear").attr("style","top"===position?"transform:translate(".concat(margin.left,"px, ").concat(margin.top-15,"px)"):"transform:translate(0,".concat(height-margin.bottom+15,"px)")),g.transition().delay(150).duration(400).call(axisBottom).call((function(g){return g.select(".domain").attr("stroke-opacity",0)})).call((function(g){return g.selectAll("line").attr("stroke-opacity",0)})).call((function(g){return g.selectAll("text").attr("fill","currentColor")})),g.selectAll(".tick text").attr("transform","rotate(0)").style("text-anchor","middle").attr("dx","0").attr("dy","0.71em").style("font-size","12px"),g.selectAll(".tick-line").remove(),g.selectAll(".tick").append("line").attr("class","tick-line").attr("x1",0).attr("y1","top"===position?height-margin.bottom-margin.top:-15).attr("x2",0).attr("y2","top"===position?margin.top-15:-height+margin.bottom+margin.top-15).style("stroke-dasharray","3,3").style("stroke",showGrid?"lightgray":"transparent").attr("pointer-events","none").style("opacity",1).transition().duration(750).attr("x2",0).attr("y2","top"===position?margin.top-15:-height+margin.bottom+margin.top-15);var dots=g.selectAll(".tick").selectAll(".tickValueDot").data([0]);return dots.enter().append("circle").attr("class","tickValueDot").merge(dots).attr("cx",0).attr("cy",0).attr("r",2).attr("fill","lightgray").style("opacity",1),dots.exit().remove(),function(){g.selectAll("*").interrupt()}}}),[xScale,height,margin,xAxisFormat,xAxisDataType,tickValues,defaultFormatter,position,showGrid]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{className:"x-axis-container",ref})};const __WEBPACK_DEFAULT_EXPORT__=XaxisLinear;XaxisLinear.__docgenInfo={description:"",methods:[],displayName:"XaxisLinear",props:{xScale:{required:!1,tsType:{name:"union",raw:"ScaleTime<number, number> | ScaleLinear<number, number>",elements:[{name:"ScaleTime",elements:[{name:"number"},{name:"number"}],raw:"ScaleTime<number, number>"},{name:"ScaleLinear",elements:[{name:"number"},{name:"number"}],raw:"ScaleLinear<number, number>"}]},description:"",defaultValue:{value:"d3.scaleLinear().domain([0, 100])",computed:!0}},height:{required:!0,tsType:{name:"number"},description:""},margin:{required:!0,tsType:{name:"signature",type:"object",raw:"{ top: number; right: number; bottom: number; left: number }",signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"right",value:{name:"number",required:!0}},{key:"bottom",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},description:""},xAxisFormat:{required:!1,tsType:{name:"signature",type:"function",raw:"(d: number | { valueOf(): number } | string) => string",signature:{arguments:[{type:{name:"union",raw:"number | { valueOf(): number } | string",elements:[{name:"number"},{name:"signature",type:"object",raw:"{ valueOf(): number }",signature:{properties:[{key:"valueOf",value:{name:"number",required:!0}}]}},{name:"string"}]},name:"d"}],return:{name:"string"}}},description:""},xAxisDataType:{required:!1,tsType:{name:"union",raw:'"number" | "date_annual" | "date_monthly"',elements:[{name:"literal",value:'"number"'},{name:"literal",value:'"date_annual"'},{name:"literal",value:'"date_monthly"'}]},description:"",defaultValue:{value:'"number"',computed:!1}},ticks:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5",computed:!1}},showGrid:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},position:{required:!1,tsType:{name:"union",raw:'"top" | "bottom"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'}]},description:"",defaultValue:{value:'"bottom"',computed:!1}},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isEmpty:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},tickValues:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(number | Date)[]"},description:""}}}}}]);