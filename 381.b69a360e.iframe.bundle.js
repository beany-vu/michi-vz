"use strict";(self.webpackChunkmichi_vz=self.webpackChunkmichi_vz||[]).push([[381],{"./src/components/ComparableHorizontalBarChart.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _templateObject,d3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3/src/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),lodash_isEqual__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/isEqual.js"),lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_2__),_components_shared_Title__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/shared/Title.tsx"),_shared_XaxisLinear__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/shared/XaxisLinear.tsx"),_shared_YaxisBand__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/shared/YaxisBand.tsx"),_components_MichiVzProvider__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/MichiVzProvider.tsx"),_shared_LoadingIndicator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/shared/LoadingIndicator.tsx"),_hooks_useDisplayIsNodata__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/hooks/useDisplayIsNodata.ts"),use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var ComparableHorizontalBarChartStyled=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").Ay.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n  rect {\n    transition:\n      fill 0.1s ease-out,\n      opacity 0.1s ease-out,\n      width 0.1s ease-out,\n      height 0.1s ease-out;\n  }\n"]))),MARGIN={top:50,right:50,bottom:50,left:50},WIDTH=900-MARGIN.left-MARGIN.right,HEIGHT=480-MARGIN.top-MARGIN.bottom,ComparableHorizontalBarChart=function ComparableHorizontalBarChart(_ref){var _tooltip$data,_tooltip$data2,_tooltip$data3,dataSet=_ref.dataSet,filter=_ref.filter,title=_ref.title,_ref$width=_ref.width,width=void 0===_ref$width?WIDTH:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?HEIGHT:_ref$height,_ref$margin=_ref.margin,margin=void 0===_ref$margin?MARGIN:_ref$margin,yAxisFormat=_ref.yAxisFormat,xAxisFormat=_ref.xAxisFormat,_ref$xAxisPredefinedD=_ref.xAxisPredefinedDomain,xAxisPredefinedDomain=void 0===_ref$xAxisPredefinedD?[]:_ref$xAxisPredefinedD,_ref$xAxisDataType=_ref.xAxisDataType,xAxisDataType=void 0===_ref$xAxisDataType?"number":_ref$xAxisDataType,tooltipFormatter=_ref.tooltipFormatter,children=_ref.children,_ref$isLoading=_ref.isLoading,isLoading=void 0!==_ref$isLoading&&_ref$isLoading,isLoadingComponent=_ref.isLoadingComponent,isNodataComponent=_ref.isNodataComponent,isNodata=_ref.isNodata,onChartDataProcessed=_ref.onChartDataProcessed,onHighlightItem=_ref.onHighlightItem,_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_1__.useState(null),2),tooltip=_React$useState2[0],setTooltip=_React$useState2[1],_useChartContext=(0,_components_MichiVzProvider__WEBPACK_IMPORTED_MODULE_6__.N)(),colorsMapping=_useChartContext.colorsMapping,colorsBasedMapping=_useChartContext.colorsBasedMapping,highlightItems=_useChartContext.highlightItems,disabledItems=_useChartContext.disabledItems,visibleItems=_useChartContext.visibleItems,svgRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),renderCompleteRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(!1),prevChartDataRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),filteredDataSet=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return filter?dataSet.slice().sort((function(a,b){var aVal=Number(a[filter.criteria]),bVal=Number(b[filter.criteria]);return"desc"===filter.sortingDir?bVal-aVal:aVal-bVal})).slice(0,filter.limit):dataSet}),[dataSet,filter]),yAxisDomain=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){var _filteredDataSet$filt;return null===(_filteredDataSet$filt=filteredDataSet.filter((function(d){return!disabledItems.includes(null==d?void 0:d.label)})))||void 0===_filteredDataSet$filt?void 0:_filteredDataSet$filt.map((function(d){return null==d?void 0:d.label}))}),[filteredDataSet,disabledItems]),visibleItemsList=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return filteredDataSet.filter((function(d){return!disabledItems.includes(null==d?void 0:d.label)&&visibleItems.includes(null==d?void 0:d.label)})).map((function(d){return d.label}))}),[filteredDataSet,disabledItems,visibleItems]),renderedData=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return _toConsumableArray(new Set(yAxisDomain)).reduce((function(acc,label){return acc[label]=filteredDataSet.filter((function(d){return d.label===label})),acc}),{})}),[yAxisDomain,filteredDataSet]),xAxisRange=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){var _filteredDataSet$filt2;return filteredDataSet.length>0?null==filteredDataSet||null===(_filteredDataSet$filt2=filteredDataSet.filter((function(d){return!disabledItems.includes(null==d?void 0:d.label)})))||void 0===_filteredDataSet$filt2||null===(_filteredDataSet$filt2=_filteredDataSet$filt2.map((function(d){return[d.valueBased,d.valueCompared]})))||void 0===_filteredDataSet$filt2?void 0:_filteredDataSet$filt2.flat():[]}),[filteredDataSet,disabledItems]),xAxisDomain=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){var range=xAxisPredefinedDomain.length>0?xAxisPredefinedDomain:xAxisRange;if("number"===xAxisDataType){var min=Math.min.apply(Math,_toConsumableArray(range));return[Math.max.apply(Math,_toConsumableArray(range)),min]}if("date_annual"===xAxisDataType)return[new Date(Math.max.apply(Math,_toConsumableArray(range)),1,1),new Date(Math.min.apply(Math,_toConsumableArray(range)),1,1)];if(xAxisRange.length>=2){var minDate=new Date(Math.min.apply(Math,_toConsumableArray(range)));return[new Date(Math.max.apply(Math,_toConsumableArray(range))),minDate]}}),[xAxisRange,xAxisPredefinedDomain,xAxisDataType]),yAxisScale=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return d3__WEBPACK_IMPORTED_MODULE_0__.scaleBand().domain(yAxisDomain).range([margin.top,height-margin.bottom]).padding(.1)}),[yAxisDomain,height,margin]),xAxisScale=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return"number"===xAxisDataType?d3__WEBPACK_IMPORTED_MODULE_0__.scaleLinear().domain(xAxisDomain).range([width-margin.left,margin.right]).clamp(!0).nice():d3__WEBPACK_IMPORTED_MODULE_0__.scaleTime().domain(xAxisDomain).range([width-margin.left,margin.right])}),[xAxisDomain,width,margin,xAxisDataType]),memoizedYaxisBand=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_shared_YaxisBand__WEBPACK_IMPORTED_MODULE_5__.A,{yScale:yAxisScale,width,margin,yAxisFormat})}),[yAxisScale,width,margin,yAxisFormat]),handleMouseOver=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(d,event,type){if(svgRef.current){var mousePoint=d3__WEBPACK_IMPORTED_MODULE_0__.pointer(event.nativeEvent,svgRef.current);setTooltip({x:mousePoint[0],y:mousePoint[1],data:d,type})}}),[]),handleMouseOut=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){setTooltip(null)}),[]),handleHighlight=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(label){onHighlightItem([label])}),[onHighlightItem]),handleUnhighlight=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){onHighlightItem([])}),[onHighlightItem]);(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((function(){svgRef.current&&(d3__WEBPACK_IMPORTED_MODULE_0__.select(svgRef.current).select(".bar").attr("opacity",.3),highlightItems.forEach((function(item){d3__WEBPACK_IMPORTED_MODULE_0__.select(svgRef.current).selectAll('.bar[data-label="'.concat(item,'"]')).attr("opacity",1)})))}),[highlightItems]);var displayIsNodata=(0,_hooks_useDisplayIsNodata__WEBPACK_IMPORTED_MODULE_8__.x)({dataSet,isLoading,isNodataComponent,isNodata}),renderBars=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){var shouldShowAll=0===visibleItems.length;return filteredDataSet.filter((function(d){return shouldShowAll?!disabledItems.includes(null==d?void 0:d.label):!disabledItems.includes(null==d?void 0:d.label)&&visibleItems.includes(null==d?void 0:d.label)})).map((function(d,i){var _ref2,_colorsMapping$d$labe,_ref3,_colorsBasedMapping$d,_ref4,_colorsBasedMapping$d2,_ref5,_colorsMapping$d$labe2,x1=margin.left+xAxisScale(Math.min(0,d.valueBased))-margin.left,x2=margin.left+xAxisScale(Math.min(0,d.valueCompared))-margin.left,width1=Math.abs(xAxisScale(d.valueBased)-xAxisScale(0)),width2=Math.abs(xAxisScale(d.valueCompared)-xAxisScale(0)),y=yAxisScale(null==d?void 0:d.label)||0,standardHeight=yAxisScale.bandwidth();return react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{className:"bar","data-label":null==d?void 0:d.label,key:i,style:{opacity:highlightItems.includes(null==d?void 0:d.label)||0===highlightItems.length?1:.3},onMouseOver:function onMouseOver(){return handleHighlight(null==d?void 0:d.label)},onMouseOut:handleUnhighlight},width1<width2?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{className:"value-compared",x:x2,y:y+(standardHeight-30)/2,width:Math.max(width2,3),height:30,fill:null!==(_ref2=null!==(_colorsMapping$d$labe=colorsMapping[null==d?void 0:d.label])&&void 0!==_colorsMapping$d$labe?_colorsMapping$d$labe:d.color)&&void 0!==_ref2?_ref2:"transparent",opacity:.9,rx:5,ry:5,onMouseOver:function onMouseOver(event){return handleMouseOver(d,event,"compared")},onMouseOut:handleMouseOut,stroke:"#fff",strokeWidth:1}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{className:"value-based",x:x1,y:y+(standardHeight-30)/2,width:Math.max(width1,3),height:30,fill:null!==(_ref3=null!==(_colorsBasedMapping$d=colorsBasedMapping[null==d?void 0:d.label])&&void 0!==_colorsBasedMapping$d?_colorsBasedMapping$d:null==d?void 0:d.color)&&void 0!==_ref3?_ref3:"transparent",rx:5,ry:5,onMouseOver:function onMouseOver(event){return handleMouseOver(d,event,"based")},onMouseOut:handleMouseOut,opacity:.9,stroke:"#fff",strokeWidth:1})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{className:"value-based",x:x1,y:y+(standardHeight-30)/2,width:Math.max(width1,3),height:30,fill:null!==(_ref4=null!==(_colorsBasedMapping$d2=colorsBasedMapping[null==d?void 0:d.label])&&void 0!==_colorsBasedMapping$d2?_colorsBasedMapping$d2:null==d?void 0:d.color)&&void 0!==_ref4?_ref4:"transparent",rx:5,ry:5,onMouseOver:function onMouseOver(event){return handleMouseOver(d,event,"based")},onMouseOut:handleMouseOut,opacity:.9,stroke:"#fff",strokeWidth:1}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{className:"value-compared",x:x2,y:y+(standardHeight-30)/2,width:Math.max(width2,3),height:30,fill:null!==(_ref5=null!==(_colorsMapping$d$labe2=colorsMapping[null==d?void 0:d.label])&&void 0!==_colorsMapping$d$labe2?_colorsMapping$d$labe2:d.color)&&void 0!==_ref5?_ref5:"transparent",opacity:.9,rx:5,ry:5,onMouseOver:function onMouseOver(event){return handleMouseOver(d,event,"compared")},onMouseOut:handleMouseOut,stroke:"#fff",strokeWidth:1})))}))}),[filteredDataSet,disabledItems,visibleItems,margin,xAxisScale,yAxisScale,highlightItems,colorsMapping,colorsBasedMapping,handleMouseOver,handleMouseOut,handleHighlight,handleUnhighlight]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((function(){renderCompleteRef.current=!0}),[]),(0,use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_9__.Ay)((function(){if(onChartDataProcessed&&renderCompleteRef.current){var uniqueLabels=_toConsumableArray(new Set(yAxisDomain));if(uniqueLabels.length>0){var _prevChartDataRef$cur,_prevChartDataRef$cur2,_prevChartDataRef$cur3,_prevChartDataRef$cur4,domain=yAxisScale.domain(),currentMetadata={xAxisDomain:uniqueLabels,yAxisDomain:[Number(domain[0]),Number(domain[1])],visibleItems:visibleItemsList,renderedData,chartType:"comparable-horizontal-bar-chart"},yAxisDomainChanged=!lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default()(null===(_prevChartDataRef$cur=prevChartDataRef.current)||void 0===_prevChartDataRef$cur?void 0:_prevChartDataRef$cur.yAxisDomain,currentMetadata.yAxisDomain),xAxisDomainChanged=!lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default()(null===(_prevChartDataRef$cur2=prevChartDataRef.current)||void 0===_prevChartDataRef$cur2?void 0:_prevChartDataRef$cur2.xAxisDomain,currentMetadata.xAxisDomain),visibleItemsChanged=!lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default()(null===(_prevChartDataRef$cur3=prevChartDataRef.current)||void 0===_prevChartDataRef$cur3?void 0:_prevChartDataRef$cur3.visibleItems,currentMetadata.visibleItems),renderedDataKeysChanged=!lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default()(Object.keys((null===(_prevChartDataRef$cur4=prevChartDataRef.current)||void 0===_prevChartDataRef$cur4?void 0:_prevChartDataRef$cur4.renderedData)||{}).sort(),Object.keys(currentMetadata.renderedData).sort());(!prevChartDataRef.current||yAxisDomainChanged||xAxisDomainChanged||visibleItemsChanged||renderedDataKeysChanged)&&(onChartDataProcessed(currentMetadata),prevChartDataRef.current=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},currentMetadata))}}}),[yAxisDomain,xAxisDomain,visibleItemsList,renderedData,onChartDataProcessed,yAxisScale]),react__WEBPACK_IMPORTED_MODULE_1__.createElement(ComparableHorizontalBarChartStyled,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("svg",{width,height,ref:svgRef,style:{overflow:"visible"},onMouseOut:function onMouseOut(event){event.stopPropagation(),event.preventDefault(),onHighlightItem([])}},children,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_shared_Title__WEBPACK_IMPORTED_MODULE_3__.A,{x:width/2,y:margin.top/2},title),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_shared_XaxisLinear__WEBPACK_IMPORTED_MODULE_4__.A,{xScale:xAxisScale,height,margin,xAxisFormat,xAxisDataType}),memoizedYaxisBand,renderBars),tooltip&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"tooltip",style:{position:"absolute",left:"".concat(null==tooltip?void 0:tooltip.x,"px"),top:"".concat(null==tooltip?void 0:tooltip.y,"px"),background:"white",padding:"5px",pointerEvents:"none"}},!tooltipFormatter&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,"$",null==tooltip||null===(_tooltip$data=tooltip.data)||void 0===_tooltip$data?void 0:_tooltip$data.label,": $",null==tooltip||null===(_tooltip$data2=tooltip.data)||void 0===_tooltip$data2?void 0:_tooltip$data2.valueBased," - $",null==tooltip||null===(_tooltip$data3=tooltip.data)||void 0===_tooltip$data3?void 0:_tooltip$data3.valueCompared),tooltipFormatter&&tooltipFormatter(null==tooltip?void 0:tooltip.data,dataSet,null==tooltip?void 0:tooltip.type)),isLoading&&isLoadingComponent&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,isLoadingComponent),isLoading&&!isLoadingComponent&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(_shared_LoadingIndicator__WEBPACK_IMPORTED_MODULE_7__.A,null),displayIsNodata&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,isNodataComponent))};const __WEBPACK_DEFAULT_EXPORT__=ComparableHorizontalBarChart;ComparableHorizontalBarChart.__docgenInfo={description:"",methods:[],displayName:"ComparableHorizontalBarChart",props:{dataSet:{required:!0,tsType:{name:"Array",elements:[{name:"DataPoint"}],raw:"DataPoint[]"},description:""},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"900 - MARGIN.left - MARGIN.right",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"480 - MARGIN.top - MARGIN.bottom",computed:!1}},margin:{required:!1,tsType:{name:"signature",type:"object",raw:"{ top: number; right: number; bottom: number; left: number }",signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"right",value:{name:"number",required:!0}},{key:"bottom",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},description:"",defaultValue:{value:"{ top: 50, right: 50, bottom: 50, left: 50 }",computed:!1}},xAxisFormat:{required:!1,tsType:{name:"signature",type:"function",raw:"(d: number | { valueOf(): number }) => string",signature:{arguments:[{type:{name:"union",raw:"number | { valueOf(): number }",elements:[{name:"number"},{name:"signature",type:"object",raw:"{ valueOf(): number }",signature:{properties:[{key:"valueOf",value:{name:"number",required:!0}}]}}]},name:"d"}],return:{name:"string"}}},description:""},yAxisFormat:{required:!1,tsType:{name:"signature",type:"function",raw:"(d: number | string) => string",signature:{arguments:[{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"d"}],return:{name:"string"}}},description:""},xAxisPredefinedDomain:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"",defaultValue:{value:"[]",computed:!1}},xAxisDataType:{required:!1,tsType:{name:"union",raw:'"number" | "date_annual" | "date_monthly"',elements:[{name:"literal",value:'"number"'},{name:"literal",value:'"date_annual"'},{name:"literal",value:'"date_monthly"'}]},description:"",defaultValue:{value:'"number"',computed:!1}},title:{required:!1,tsType:{name:"string"},description:""},tooltipFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(\r\n  d: DataPoint | undefined,\r\n  dataSet?: DataPoint[],\r\n  type?: TValueType\r\n) => React.ReactNode",signature:{arguments:[{type:{name:"union",raw:"DataPoint | undefined",elements:[{name:"DataPoint"},{name:"undefined"}]},name:"d"},{type:{name:"Array",elements:[{name:"DataPoint"}],raw:"DataPoint[]"},name:"dataSet"},{type:{name:"unknown[union]",raw:"(typeof VALUE_TYPE)[keyof typeof VALUE_TYPE]"},name:"type"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isLoadingComponent:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isNodataComponent:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isNodata:{required:!1,tsType:{name:"union",raw:"boolean | ((dataSet: DataPoint[]) => boolean)",elements:[{name:"boolean"},{name:"unknown"}]},description:""},filter:{required:!1,tsType:{name:"signature",type:"object",raw:'{\r\n  limit: number;\r\n  criteria: "valueBased" | "valueCompared";\r\n  sortingDir: "asc" | "desc";\r\n}',signature:{properties:[{key:"limit",value:{name:"number",required:!0}},{key:"criteria",value:{name:"union",raw:'"valueBased" | "valueCompared"',elements:[{name:"literal",value:'"valueBased"'},{name:"literal",value:'"valueCompared"'}],required:!0}},{key:"sortingDir",value:{name:"union",raw:'"asc" | "desc"',elements:[{name:"literal",value:'"asc"'},{name:"literal",value:'"desc"'}],required:!0}}]}},description:""},onChartDataProcessed:{required:!1,tsType:{name:"signature",type:"function",raw:"(metadata: ChartMetadata) => void",signature:{arguments:[{type:{name:"ChartMetadata"},name:"metadata"}],return:{name:"void"}}},description:""},onHighlightItem:{required:!1,tsType:{name:"signature",type:"function",raw:"(labels: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"labels"}],return:{name:"void"}}},description:""}}}},"./src/components/shared/YaxisBand.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),d3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/d3/src/index.js"),YaxisBand=function YaxisBand(_ref){var yScale=_ref.yScale,width=_ref.width,margin=_ref.margin,yAxisFormat=_ref.yAxisFormat,showGrid=_ref.showGrid,ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),renderedRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),axisGenerator=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return d3__WEBPACK_IMPORTED_MODULE_1__.axisLeft(yScale).tickFormat((function(d){return yAxisFormat?yAxisFormat(d):d})).tickSize(0)}),[yScale,yAxisFormat]),gridWidth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return width-margin.left-margin.right}),[width,margin]),updateAxis=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){if(ref.current){var g=d3__WEBPACK_IMPORTED_MODULE_1__.select(ref.current);g.selectAll("*").remove(),g.attr("class","y-axis").attr("transform","translate("+margin.left+",0)").call(axisGenerator),g.select(".domain").remove(),g.selectAll(".tick line").remove(),g.selectAll(".tick *").remove(),g.selectAll(".tick-line").remove(),g.selectAll(".tick").append("foreignObject").attr("class","tick-html").attr("x",-100).attr("y",-10).attr("width",100).attr("height",20).html((function(d){return'<div style="display:flex;align-items:center;height:100%" title="'.concat(d,'"><span>').concat(d,"</span></div>")})),g.selectAll(".tick").append("line").attr("class","tick-line").attr("x1",0).attr("x2",gridWidth).attr("y1",0).attr("y2",0).style("stroke-dasharray","1.5").style("stroke",showGrid?"lightgray":"transparent")}}),[axisGenerator,margin.left,showGrid,gridWidth]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){if(!renderedRef.current){if(ref.current)d3__WEBPACK_IMPORTED_MODULE_1__.select(ref.current).selectAll(".tick").attr("opacity",0).transition().duration(500).attr("opacity",1);renderedRef.current=!0}updateAxis()}),[updateAxis]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{ref})};const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_0__.memo(YaxisBand);YaxisBand.__docgenInfo={description:"",methods:[],displayName:"YaxisBand",props:{yScale:{required:!0,tsType:{name:"ScaleBand",elements:[{name:"string"}],raw:"ScaleBand<string>"},description:""},width:{required:!0,tsType:{name:"number"},description:""},margin:{required:!0,tsType:{name:"signature",type:"object",raw:"{ top: number; right: number; bottom: number; left: number }",signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"right",value:{name:"number",required:!0}},{key:"bottom",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},description:""},yAxisFormat:{required:!1,tsType:{name:"signature",type:"function",raw:"(d: number | string) => string",signature:{arguments:[{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"d"}],return:{name:"string"}}},description:""},showGrid:{required:!1,tsType:{name:"boolean"},description:""}}}}}]);