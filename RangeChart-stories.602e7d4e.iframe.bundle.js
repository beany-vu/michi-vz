"use strict";(self.webpackChunkmichi_vz=self.webpackChunkmichi_vz||[]).push([[434],{"./node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>useDeepCompareEffect});var react=__webpack_require__("./node_modules/react/index.js"),has=Object.prototype.hasOwnProperty;function find(iter,tar,key){for(key of iter.keys())if(dequal(key,tar))return key}function dequal(foo,bar){var ctor,len,tmp;if(foo===bar)return!0;if(foo&&bar&&(ctor=foo.constructor)===bar.constructor){if(ctor===Date)return foo.getTime()===bar.getTime();if(ctor===RegExp)return foo.toString()===bar.toString();if(ctor===Array){if((len=foo.length)===bar.length)for(;len--&&dequal(foo[len],bar[len]););return-1===len}if(ctor===Set){if(foo.size!==bar.size)return!1;for(len of foo){if((tmp=len)&&"object"==typeof tmp&&!(tmp=find(bar,tmp)))return!1;if(!bar.has(tmp))return!1}return!0}if(ctor===Map){if(foo.size!==bar.size)return!1;for(len of foo){if((tmp=len[0])&&"object"==typeof tmp&&!(tmp=find(bar,tmp)))return!1;if(!dequal(len[1],bar.get(tmp)))return!1}return!0}if(ctor===ArrayBuffer)foo=new Uint8Array(foo),bar=new Uint8Array(bar);else if(ctor===DataView){if((len=foo.byteLength)===bar.byteLength)for(;len--&&foo.getInt8(len)===bar.getInt8(len););return-1===len}if(ArrayBuffer.isView(foo)){if((len=foo.byteLength)===bar.byteLength)for(;len--&&foo[len]===bar[len];);return-1===len}if(!ctor||"object"==typeof foo){for(ctor in len=0,foo){if(has.call(foo,ctor)&&++len&&!has.call(bar,ctor))return!1;if(!(ctor in bar)||!dequal(foo[ctor],bar[ctor]))return!1}return Object.keys(bar).length===len}}return foo!=foo&&bar!=bar}function useDeepCompareMemoize(value){var ref=react.useRef(value),signalRef=react.useRef(0);return dequal(value,ref.current)||(ref.current=value,signalRef.current+=1),react.useMemo((function(){return ref.current}),[signalRef.current])}function useDeepCompareEffect(callback,dependencies){return react.useEffect(callback,useDeepCompareMemoize(dependencies))}},"./src/components/shared/YaxisLinear.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),d3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/d3/src/index.js"),YaxisLinear=function YaxisLinear(_ref){var yScale=_ref.yScale,width=_ref.width,height=_ref.height,_ref$highlightZeroLin=_ref.highlightZeroLine,highlightZeroLine=void 0===_ref$highlightZeroLin||_ref$highlightZeroLin,margin=_ref.margin,yTicksQty=_ref.yTicksQty,yAxisFormat=_ref.yAxisFormat,ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),yAxisConfig=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var axis=d3__WEBPACK_IMPORTED_MODULE_1__.axisLeft(yScale).tickSize(0).tickPadding(10).ticks(yTicksQty||10);return yAxisFormat&&axis.tickFormat(yAxisFormat),axis}),[yScale,yTicksQty,yAxisFormat]),prevYScaleDomain=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(yScale.domain());return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){var g=d3__WEBPACK_IMPORTED_MODULE_1__.select(ref.current),currentYScaleDomain=yScale.domain(),yScaleChanged=JSON.stringify(currentYScaleDomain)!==JSON.stringify(prevYScaleDomain.current);prevYScaleDomain.current=currentYScaleDomain,g.transition().duration(750).attr("transform","translate(".concat(margin.left>0?margin.left:0,",0)")).call(yAxisConfig).call((function(g){return g.select(".domain").attr("stroke-opacity",0)})).call((function(g){return g.select(".domain").remove()})).call((function(g){return g.selectAll(".tick line").attr("stroke-opacity",0)})).call((function(g){return g.selectAll(".tick line").remove()})).call((function(g){return g.selectAll(".tick-line").remove()})),g.selectAll(".tick line").remove(),g.selectAll(".tick text").transition().duration(750).style("opacity",1);var tickLines=g.selectAll(".tick").append("line").attr("class","tick-line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).style("stroke-dasharray","2,2").style("stroke","lightgray").style("opacity",1);yScaleChanged?tickLines.transition().duration(750).attr("x2",width-margin.right-margin.left).each((function(d){0===d&&d3__WEBPACK_IMPORTED_MODULE_1__.select(this).classed("zero-line",!0).attr("stroke",highlightZeroLine?"#000":"lightgray").attr("stroke-width","1")})):tickLines.attr("x2",width-margin.right-margin.left).each((function(d){0===d&&d3__WEBPACK_IMPORTED_MODULE_1__.select(this).classed("zero-line",!0).attr("stroke",highlightZeroLine?"#000":"lightgray").attr("stroke-width","1")}))}),[yScale,width,height,margin,highlightZeroLine,yAxisConfig]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{ref})};const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_0__.memo(YaxisLinear);YaxisLinear.__docgenInfo={description:"",methods:[],displayName:"YaxisLinear",props:{yScale:{required:!0,tsType:{name:"ScaleLinear",elements:[{name:"number"},{name:"number"}],raw:"ScaleLinear<number, number>"},description:""},width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},highlightZeroLine:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},margin:{required:!0,tsType:{name:"signature",type:"object",raw:"{ top: number; right: number; bottom: number; left: number }",signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"right",value:{name:"number",required:!0}},{key:"bottom",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},description:""},yAxisFormat:{required:!1,tsType:{name:"signature",type:"function",raw:"(d: number) => string",signature:{arguments:[{type:{name:"number"},name:"d"}],return:{name:"string"}}},description:""},yTicksQty:{required:!1,tsType:{name:"number"},description:""}}}},"./stories/RangeChart.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_src_components_RangeChart__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/RangeChart.tsx"),_src_components_MichiVzProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/MichiVzProvider.tsx"),_storybook_test__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs");const __WEBPACK_DEFAULT_EXPORT__={title:"Charts/Range Chart",component:_src_components_RangeChart__WEBPACK_IMPORTED_MODULE_1__.A,tags:["autodocs"],decorators:[function(Story){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_MichiVzProvider__WEBPACK_IMPORTED_MODULE_2__._,{colorsMapping:{Egypt:"red",Euro:"purple","Rest of the World":"orange",Africa:"purple"},highlightItems:["Africa"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Story,null))}]};var Primary={args:{dataSet:[{label:"Africa",series:[{year:2018,date:"2018",valueMin:1,valueMax:12,valueMedium:6},{year:2019,date:"2019",valueMin:0,valueMax:.1162,valueMedium:.1162},{year:2020,date:"2020",valueMin:2,valueMax:14.1162,valueMedium:14.1162},{year:2021,date:"2021",valueMin:12,valueMax:12,valueMedium:12},{year:2022,date:"2022",valueMin:0,valueMax:.1199,valueMedium:.1199}]}],width:900,height:400,margin:{top:50,right:50,bottom:50,left:50},showCombined:!1,xAxisDataType:"date_annual",title:"My Range Chart",tooltipFormatter:function tooltipFormatter(dataSet,d){return JSON.stringify(d)},onChartDataProcessed:(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.fn)()}};const __namedExportsOrder=["Primary"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  args: {\n    dataSet: [{\n      label: "Africa",\n      series: [{\n        year: 2018,\n        date: "2018",\n        valueMin: 1,\n        valueMax: 12,\n        valueMedium: 6\n      }, {\n        year: 2019,\n        date: "2019",\n        valueMin: 0,\n        valueMax: 0.1162,\n        valueMedium: 0.1162\n      }, {\n        year: 2020,\n        date: "2020",\n        valueMin: 2,\n        valueMax: 14.1162,\n        valueMedium: 14.1162\n      }, {\n        year: 2021,\n        date: "2021",\n        valueMin: 12,\n        valueMax: 12,\n        valueMedium: 12\n      }, {\n        year: 2022,\n        date: "2022",\n        valueMin: 0,\n        valueMax: 0.1199,\n        valueMedium: 0.1199\n      }]\n    }\n    // {\n    //   "label": "Africa",\n    //   "color": "green",\n    //   "series": [\n    //     {\n    //       "year": 2016,\n    //       "date": "2016",\n    //       "valueMax": 18.5,\n    //       "valueMin": 7.8,\n    //       "valueMedium": 8.2,\n    //       "certainty": false\n    //     },\n    //     {\n    //       "year": 2017,\n    //       "date": "2017",\n    //       "valueMax": 82.2,\n    //       "valueMin": 7.4,\n    //       "valueMedium": 7.7,\n    //       "certainty": true\n    //     },\n    //     {\n    //       "year": 2018,\n    //       "date": "2018",\n    //       "valueMax": 38.4,\n    //       "valueMin": 7.7,\n    //       "valueMedium": 7.9,\n    //       "certainty": true\n    //     },\n    //     // ... (add more data points)\n    //   ]\n    // },\n    // {\n    //   "label": "Rest of the World",\n    //   "color": "orange",\n    //   "series": [\n    //     {\n    //       "year": 2016,\n    //       "date": "2016",\n    //       "valueMax": 70.5,\n    //       "valueMin": 10.5,\n    //       "valueMedium": 52,\n    //       "certainty": false\n    //     },\n    //     {\n    //       "year": 2017,\n    //       "date": "2017",\n    //       "valueMax": 96,\n    //       "valueMin": 30.5,\n    //       "valueMedium": 63,\n    //       "certainty": true\n    //     },\n    //     {\n    //       "year": 2017,\n    //       "date": "2018",\n    //       "valueMax": 96,\n    //       "valueMin": 30.5,\n    //       "valueMedium": 63,\n    //       "certainty": true\n    //     },\n    //     {\n    //       "year": 2019,\n    //       "date": "2019",\n    //       "valueMax": 40.8,\n    //       "valueMin": 0.8,\n    //       "valueMedium": 14.2,\n    //       "certainty": true\n    //     },\n    //   ]\n    // }\n    ],\n    width: 900,\n    height: 400,\n    margin: {\n      top: 50,\n      right: 50,\n      bottom: 50,\n      left: 50\n    },\n    showCombined: false,\n    // yAxisFormat: (d) => `${d}%`, // Example: format values as percentages\n    xAxisDataType: "date_annual",\n    title: "My Range Chart",\n    tooltipFormatter: (dataSet, d) => {\n      return JSON.stringify(d);\n    },\n    onChartDataProcessed: fn()\n  }\n}',...Primary.parameters?.docs?.source}}}}}]);